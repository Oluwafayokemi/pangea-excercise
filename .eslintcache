[{"/Users/fayokeadeyina/Desktop/pangea-excercise/src/index.js":"1","/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/header/index.jsx":"2","/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/product/product_header.jsx":"3","/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/product/index.jsx":"4","/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/product/cart_list.jsx":"5","/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/product/product_list.jsx":"6","/Users/fayokeadeyina/Desktop/pangea-excercise/src/App.js":"7","/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/product/query.js":"8","/Users/fayokeadeyina/Desktop/pangea-excercise/src/reportWebVitals.js":"9","/Users/fayokeadeyina/Desktop/pangea-excercise/src/utils/currencyHelper.js":"10"},{"size":966,"mtime":1606369230307,"results":"11","hashOfConfig":"12"},{"size":805,"mtime":1606276577815,"results":"13","hashOfConfig":"12"},{"size":707,"mtime":1606269463961,"results":"14","hashOfConfig":"12"},{"size":4434,"mtime":1606367838013,"results":"15","hashOfConfig":"12"},{"size":4292,"mtime":1606367316352,"results":"16","hashOfConfig":"12"},{"size":2129,"mtime":1606368162329,"results":"17","hashOfConfig":"12"},{"size":217,"mtime":1606276232093,"results":"18","hashOfConfig":"12"},{"size":270,"mtime":1606285355963,"results":"19","hashOfConfig":"12"},{"size":362,"mtime":1606223118707,"results":"20","hashOfConfig":"12"},{"size":137,"mtime":1606364920811,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"twysge",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/fayokeadeyina/Desktop/pangea-excercise/src/index.js",[],["45","46"],"/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/header/index.jsx",[],"/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/product/product_header.jsx",[],"/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/product/index.jsx",["47","48","49"],"import React, { useEffect, useState } from 'react'\nimport { ProductHeader } from './product_header'\nimport { ProductList } from './product_list'\nimport { CartList } from './cart_list'\nimport styled from 'styled-components'\nimport { useQuery } from '@apollo/client'\nimport { GET_PRODUCTS } from './query'\n\nexport const Product = () => {\n  const [products, setProducts] = useState([])\n  const [selectedProduct, setSelectedProduct] = useState([])\n  const [selectedCurrency, setSelectedCurrency] = useState('USD')\n  const [previousCurrency, setPreviousCurrency] = useState('USD')\n  const [openCart, setCartOpen] = useState(false)\n  const { loading, error, data } = useQuery(GET_PRODUCTS, {\n    variables: { currency: selectedCurrency }\n  })\n\n  const handleClick = perQuantityProduct => {\n    if (\n      selectedProduct.some(product => product?.id === perQuantityProduct?.id)\n    ) {\n      const product = selectedProduct.map(uniqueProduct => {\n        if (uniqueProduct?.id === perQuantityProduct?.id) {\n          return {\n            ...uniqueProduct,\n            quantity: uniqueProduct?.quantity + 1,\n            price: perQuantityProduct?.price * (uniqueProduct?.quantity + 1)\n          }\n        }\n        return uniqueProduct\n      })\n      setSelectedProduct(product)\n    } else {\n      setSelectedProduct([...selectedProduct, perQuantityProduct])\n    }\n\n    setCartOpen(!openCart)\n  }\n\n  const handleSelectCurrency = event => {\n    setPreviousCurrency(selectedCurrency)\n    setSelectedCurrency(event.target.value)\n  }\n\n  useEffect(() => {\n    if (data) {\n      const newProduct = data?.products.map(product => {\n        return { ...product, quantity: 1 }\n      })\n      setProducts(newProduct)\n    }\n  }, [data])\n\n  useEffect(() => {\n    if (\n      products.length &&\n      selectedProduct.length &&\n      previousCurrency !== selectedCurrency\n    ) {\n      const updatedSelectedProduct = products?.filter(product => {\n        return selectedProduct.some(productSelected => {\n          return productSelected?.id === product?.id\n        })\n      })\n      setSelectedProduct(updatedSelectedProduct)\n    }\n  }, [products])\n\n  const selectedCalculator = (type, selectedItem) => {\n    if (type === 'remove' && selectedItem?.quantity === 1) {\n      return deSelectProduct(type, selectedItem)\n    }\n    const perQuantityProduct = products.filter(\n      perQuantityProduct => perQuantityProduct?.id === selectedItem?.id\n    )\n    const product = selectedProduct.map(uniqueProduct => {\n      if (uniqueProduct?.id === selectedItem?.id) {\n        const qty =\n          type === 'add'\n            ? uniqueProduct?.quantity + 1\n            : uniqueProduct?.quantity - 1\n        const qtyCount = qty > 1 ? qty : 1\n        return {\n          ...uniqueProduct,\n          price: perQuantityProduct[0]?.price * qtyCount,\n          quantity: qtyCount\n        }\n      }\n      return uniqueProduct\n    })\n    setSelectedProduct(product)\n  }\n\n  const deSelectProduct = (type, selectedItem) => {\n    const updatedProduct = selectedProduct.filter(\n      product => product?.id !== selectedItem?.id\n    )\n    return setSelectedProduct(updatedProduct)\n  }\n\n  return (\n    <Wrapper>\n      <ProductHeader />\n      <div className='container'>\n        <div className={openCart ? 'not-active' : ''}>\n          <ProductList\n            products={products}\n            handleClick={handleClick}\n            selectedCurrency={selectedCurrency}\n          />\n        </div>\n        <div className={`cart ${openCart ? 'active' : 'none'}`}>\n          <CartList\n            products={selectedProduct}\n            handleSelect={handleSelectCurrency}\n            setCartOpen={setCartOpen}\n            selectedCalculator={selectedCalculator}\n            selectedCurrency={selectedCurrency}\n          />\n        </div>\n      </div>\n    </Wrapper>\n  )\n}\n\nconst Wrapper = styled.div`\n  .container {\n    padding: 2rem;\n    background-color: rgb(242, 243, 240);\n    position: relative;\n    min-height: 100%;\n    padding-bottom: 1rem;\n    min-width: 30rem;\n    transform: scaleX(1);\n    transform-origin: right;\n    transition: 0.3s ease;\n\n    .not-active {\n      opacity: 0.5;\n    }\n\n    .cart {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      display: none;\n      z-index: -999999;\n      transition: 0.5s;\n      justify-content: flex-end;\n\n      &.active {\n        z-index: 999999;\n        display: flex;\n      }\n    }\n  }\n`\n","/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/product/cart_list.jsx",[],"/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/product/product_list.jsx",[],"/Users/fayokeadeyina/Desktop/pangea-excercise/src/App.js",[],"/Users/fayokeadeyina/Desktop/pangea-excercise/src/component/product/query.js",[],["50","51"],"/Users/fayokeadeyina/Desktop/pangea-excercise/src/reportWebVitals.js",[],"/Users/fayokeadeyina/Desktop/pangea-excercise/src/utils/currencyHelper.js",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":15,"column":11,"nodeType":"58","messageId":"59","endLine":15,"endColumn":18},{"ruleId":"56","severity":1,"message":"60","line":15,"column":20,"nodeType":"58","messageId":"59","endLine":15,"endColumn":25},{"ruleId":"61","severity":1,"message":"62","line":68,"column":6,"nodeType":"63","endLine":68,"endColumn":16,"suggestions":"64"},{"ruleId":"52","replacedBy":"65"},{"ruleId":"54","replacedBy":"66"},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar","'error' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'previousCurrency', 'selectedCurrency', and 'selectedProduct'. Either include them or remove the dependency array.","ArrayExpression",["69"],["67"],["68"],"no-global-assign","no-unsafe-negation",{"desc":"70","fix":"71"},"Update the dependencies array to be: [previousCurrency, products, selectedCurrency, selectedProduct]",{"range":"72","text":"73"},[2113,2123],"[previousCurrency, products, selectedCurrency, selectedProduct]"]